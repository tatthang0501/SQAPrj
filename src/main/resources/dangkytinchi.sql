-- MySQL Script generated by MySQL Workbench
-- Fri Apr  2 04:47:54 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema dangkytinchi
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema dangkytinchi
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `dangkytinchi` DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci ;
USE `dangkytinchi` ;

-- -----------------------------------------------------
-- Table `dangkytinchi`.`khoa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`khoa` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`bomon`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`bomon` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  `khoaid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `khoaid` (`khoaid` ASC) VISIBLE,
  CONSTRAINT `bomon_ibfk_1`
    FOREIGN KEY (`khoaid`)
    REFERENCES `dangkytinchi`.`khoa` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`diachi`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`diachi` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `sonha` VARCHAR(50) NULL DEFAULT NULL,
  `toanha` VARCHAR(50) NULL DEFAULT NULL,
  `xompho` VARCHAR(50) NULL DEFAULT NULL,
  `phuongxa` VARCHAR(50) NULL DEFAULT NULL,
  `quanhuyen` VARCHAR(50) NULL DEFAULT NULL,
  `tinhthanh` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`thanhvien`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`thanhvien` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(50) NULL DEFAULT NULL,
  `password` VARCHAR(50) NULL DEFAULT NULL,
  `ngaysinh` DATE NULL DEFAULT NULL,
  `email` VARCHAR(50) NULL DEFAULT NULL,
  `dt` VARCHAR(15) NULL DEFAULT NULL,
  `ghichu` VARCHAR(100) NULL DEFAULT NULL,
  `vitri` VARCHAR(15) NULL DEFAULT NULL,
  `ho` VARCHAR(10) NULL DEFAULT NULL,
  `dem` VARCHAR(10) NULL DEFAULT NULL,
  `ten` VARCHAR(10) NULL DEFAULT NULL,
  `diachiid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `diachiid` (`diachiid` ASC) VISIBLE,
  CONSTRAINT `thanhvien_ibfk_1`
    FOREIGN KEY (`diachiid`)
    REFERENCES `dangkytinchi`.`diachi` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 2
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`giangvienkhoa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`giangvienkhoa` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `khoaid` INT NULL DEFAULT NULL,
  `giangvienid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `khoaid` (`khoaid` ASC) VISIBLE,
  INDEX `giangvienid` (`giangvienid` ASC) VISIBLE,
  CONSTRAINT `giangvienkhoa_ibfk_1`
    FOREIGN KEY (`khoaid`)
    REFERENCES `dangkytinchi`.`khoa` (`id`),
  CONSTRAINT `giangvienkhoa_ibfk_2`
    FOREIGN KEY (`giangvienid`)
    REFERENCES `dangkytinchi`.`thanhvien` (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`hocky`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`hocky` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`kiphoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`kiphoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`namhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`namhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`kyhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`kyhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `namhocid` INT NULL DEFAULT NULL,
  `hockyid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `namhocid` (`namhocid` ASC) VISIBLE,
  INDEX `hockyid` (`hockyid` ASC) VISIBLE,
  CONSTRAINT `kyhoc_ibfk_1`
    FOREIGN KEY (`namhocid`)
    REFERENCES `dangkytinchi`.`namhoc` (`id`),
  CONSTRAINT `kyhoc_ibfk_2`
    FOREIGN KEY (`hockyid`)
    REFERENCES `dangkytinchi`.`hocky` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 3
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`monhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`monhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `sotc` INT NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  `bomonid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `bomonid` (`bomonid` ASC) VISIBLE,
  CONSTRAINT `monhoc_ibfk_1`
    FOREIGN KEY (`bomonid`)
    REFERENCES `dangkytinchi`.`bomon` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`monhockyhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`monhockyhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `monhocid` INT NULL DEFAULT NULL,
  `kyhocid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `monhocid` (`monhocid` ASC) VISIBLE,
  INDEX `kyhocid` (`kyhocid` ASC) VISIBLE,
  CONSTRAINT `monhockyhoc_ibfk_1`
    FOREIGN KEY (`monhocid`)
    REFERENCES `dangkytinchi`.`monhoc` (`id`),
  CONSTRAINT `monhockyhoc_ibfk_2`
    FOREIGN KEY (`kyhocid`)
    REFERENCES `dangkytinchi`.`kyhoc` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`lophocphan`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`lophocphan` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `sisotoida` INT NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  `monhockyhocid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `monhockyhocid` (`monhockyhocid` ASC) VISIBLE,
  CONSTRAINT `lophocphan_ibfk_1`
    FOREIGN KEY (`monhockyhocid`)
    REFERENCES `dangkytinchi`.`monhockyhoc` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 6
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`tuanhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`tuanhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(30) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 4
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`ngayhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`ngayhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 6
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


-- -----------------------------------------------------
-- Table `dangkytinchi`.`lichhoc`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `dangkytinchi`.`lichhoc` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `ten` VARCHAR(30) NULL DEFAULT NULL,
  `lhpid` INT NULL DEFAULT NULL,
  `tuanid` INT NULL DEFAULT NULL,
  `ngayid` INT NULL DEFAULT NULL,
  `kipid` INT NULL DEFAULT NULL,
  `mota` VARCHAR(50) NULL DEFAULT NULL,
  `giangvienid` INT NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
  INDEX `lhpid` (`lhpid` ASC) VISIBLE,
  INDEX `tuanid` (`tuanid` ASC) VISIBLE,
  INDEX `ngayid` (`ngayid` ASC) VISIBLE,
  INDEX `kipid` (`kipid` ASC) VISIBLE,
  INDEX `giangvienid` (`giangvienid` ASC) VISIBLE,
  CONSTRAINT `lichhoc_ibfk_1`
    FOREIGN KEY (`lhpid`)
    REFERENCES `dangkytinchi`.`lophocphan` (`id`),
  CONSTRAINT `lichhoc_ibfk_2`
    FOREIGN KEY (`tuanid`)
    REFERENCES `dangkytinchi`.`tuanhoc` (`id`),
  CONSTRAINT `lichhoc_ibfk_3`
    FOREIGN KEY (`ngayid`)
    REFERENCES `dangkytinchi`.`ngayhoc` (`id`),
  CONSTRAINT `lichhoc_ibfk_4`
    FOREIGN KEY (`kipid`)
    REFERENCES `dangkytinchi`.`kiphoc` (`id`),
  CONSTRAINT `lichhoc_ibfk_5`
    FOREIGN KEY (`giangvienid`)
    REFERENCES `dangkytinchi`.`thanhvien` (`id`))
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = utf8mb4
COLLATE = utf8mb4_0900_ai_ci;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
